var Ze=Object.defineProperty;var je=(n,t,e)=>t in n?Ze(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Ln=(n,t,e)=>(je(n,typeof t!="symbol"?t+"":t,e),e);class ln{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],l=t+o,c=Math.abs(t)<Math.abs(o)?t-(l-o):o-(l-t);c&&(e[i++]=c),t=l}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,o,l=0;if(e>0){for(l=t[--e];e>0&&(i=l,r=t[--e],l=i+r,o=r-(l-i),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=o*2,i=l+r,r==i-l&&(l=i))}return l}}function*Je(n){for(const t of n)yield*t}function Se(n){return Array.from(Je(n))}var b=1e-6,Ke=1e-12,L=Math.PI,X=L/2,Ct=L/4,B=L*2,nn=180/L,z=L/180,D=Math.abs,Qe=Math.atan,hn=Math.atan2,H=Math.cos,O=Math.sin,ni=Math.sign||function(n){return n>0?1:n<0?-1:0},rn=Math.sqrt;function ti(n){return n>1?0:n<-1?L:Math.acos(n)}function an(n){return n>1?X:n<-1?-X:Math.asin(n)}function V(){}function Un(n,t){n&&At.hasOwnProperty(n.type)&&At[n.type](n,t)}var Tt={Feature:function(n,t){Un(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)Un(e[i].geometry,t)}},At={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){ot(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)ot(e[i],t,0)},Polygon:function(n,t){bt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)bt(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)Un(e[i],t)}};function ot(n,t,e){var i=-1,r=n.length-e,o;for(t.lineStart();++i<r;)o=n[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function bt(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)ot(n[e],t,1);t.polygonEnd()}function fn(n,t){n&&Tt.hasOwnProperty(n.type)?Tt[n.type](n,t):Un(n,t)}function ut(n){return[hn(n[1],n[0]),an(n[2])]}function vn(n){var t=n[0],e=n[1],i=H(e);return[i*H(t),i*O(t),O(e)]}function Cn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function xn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Kn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Tn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function lt(n){var t=rn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function at(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function ct(n,t){return D(n)>L&&(n-=Math.round(n/B)*B),[n,t]}ct.invert=ct;function ei(n,t,e){return(n%=B)?t||e?at(Ht(n),Dt(t,e)):Ht(n):t||e?Dt(t,e):ct}function Ot(n){return function(t,e){return t+=n,D(t)>L&&(t-=Math.round(t/B)*B),[t,e]}}function Ht(n){var t=Ot(n);return t.invert=Ot(-n),t}function Dt(n,t){var e=H(n),i=O(n),r=H(t),o=O(t);function l(c,p){var _=H(p),a=H(c)*_,u=O(c)*_,s=O(p),f=s*e+a*i;return[hn(u*r-f*o,a*e-s*i),an(f*r+u*o)]}return l.invert=function(c,p){var _=H(p),a=H(c)*_,u=O(c)*_,s=O(p),f=s*r-u*o;return[hn(u*r+s*o,a*e+f*i),an(f*e-a*i)]},l}function ii(n,t,e,i,r,o){if(e){var l=H(t),c=O(t),p=i*e;r==null?(r=t+i*B,o=t-p/2):(r=Ft(l,r),o=Ft(l,o),(i>0?r<o:r>o)&&(r+=i*B));for(var _,a=r;i>0?a>o:a<o;a-=p)_=ut([l,-c*H(a),-c*O(a)]),n.point(_[0],_[1])}}function Ft(n,t){t=vn(t),t[0]-=n,lt(t);var e=ti(-t[1]);return((-t[2]<0?-e:e)+B-b)%B}function Ee(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:V,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Dn(n,t){return D(n[0]-t[0])<b&&D(n[1]-t[1])<b}function An(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function we(n,t,e,i,r){var o=[],l=[],c,p;if(n.forEach(function(h){if(!((S=h.length-1)<=0)){var S,d=h[0],y=h[S],g;if(Dn(d,y)){if(!d[2]&&!y[2]){for(r.lineStart(),c=0;c<S;++c)r.point((d=h[c])[0],d[1]);r.lineEnd();return}y[0]+=2*b}o.push(g=new An(d,h,null,!0)),l.push(g.o=new An(d,null,g,!1)),o.push(g=new An(y,h,null,!1)),l.push(g.o=new An(y,null,g,!0))}}),!!o.length){for(l.sort(t),It(o),It(l),c=0,p=l.length;c<p;++c)l[c].e=e=!e;for(var _=o[0],a,u;;){for(var s=_,f=!0;s.v;)if((s=s.n)===_)return;a=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(f)for(c=0,p=a.length;c<p;++c)r.point((u=a[c])[0],u[1]);else i(s.x,s.n.x,1,r);s=s.n}else{if(f)for(a=s.p.z,c=a.length-1;c>=0;--c)r.point((u=a[c])[0],u[1]);else i(s.x,s.p.x,-1,r);s=s.p}s=s.o,a=s.z,f=!f}while(!s.v);r.lineEnd()}}}function It(n){if(t=n.length){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Qn(n){return D(n[0])<=L?n[0]:ni(n[0])*((D(n[0])+L)%B-L)}function ri(n,t){var e=Qn(t),i=t[1],r=O(i),o=[O(e),-H(e),0],l=0,c=0,p=new ln;r===1?i=X+b:r===-1&&(i=-X-b);for(var _=0,a=n.length;_<a;++_)if(s=(u=n[_]).length)for(var u,s,f=u[s-1],h=Qn(f),S=f[1]/2+Ct,d=O(S),y=H(S),g=0;g<s;++g,h=m,d=M,y=C,f=w){var w=u[g],m=Qn(w),P=w[1]/2+Ct,M=O(P),C=H(P),R=m-h,k=R>=0?1:-1,T=k*R,$=T>L,U=d*M;if(p.add(hn(U*k*O(T),y*C+U*H(T))),l+=$?R+k*B:R,$^h>=e^m>=e){var F=xn(vn(f),vn(w));lt(F);var A=xn(o,F);lt(A);var v=($^R>=0?-1:1)*an(A[2]);(i>v||i===v&&(F[0]||F[1]))&&(c+=$^R>=0?1:-1)}}return(l<-b||l<b&&p<-Ke)^c&1}function Pe(n,t,e,i){return function(r){var o=t(r),l=Ee(),c=t(l),p=!1,_,a,u,s={point:f,lineStart:S,lineEnd:d,polygonStart:function(){s.point=y,s.lineStart=g,s.lineEnd=w,a=[],_=[]},polygonEnd:function(){s.point=f,s.lineStart=S,s.lineEnd=d,a=Se(a);var m=ri(_,i);a.length?(p||(r.polygonStart(),p=!0),we(a,ui,m,e,r)):m&&(p||(r.polygonStart(),p=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),p&&(r.polygonEnd(),p=!1),a=_=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(m,P){n(m,P)&&r.point(m,P)}function h(m,P){o.point(m,P)}function S(){s.point=h,o.lineStart()}function d(){s.point=f,o.lineEnd()}function y(m,P){u.push([m,P]),c.point(m,P)}function g(){c.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),c.lineEnd();var m=c.clean(),P=l.result(),M,C=P.length,R,k,T;if(u.pop(),_.push(u),u=null,!!C){if(m&1){if(k=P[0],(R=k.length-1)>0){for(p||(r.polygonStart(),p=!0),r.lineStart(),M=0;M<R;++M)r.point((T=k[M])[0],T[1]);r.lineEnd()}return}C>1&&m&2&&P.push(P.pop().concat(P.shift())),a.push(P.filter(oi))}}return s}}function oi(n){return n.length>1}function ui(n,t){return((n=n.x)[0]<0?n[1]-X-b:X-n[1])-((t=t.x)[0]<0?t[1]-X-b:X-t[1])}const Ut=Pe(function(){return!0},li,ci,[-L,-X]);function li(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(o,l){var c=o>0?L:-L,p=D(o-t);D(p-L)<b?(n.point(t,e=(e+l)/2>0?X:-X),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(c,e),n.point(o,e),r=0):i!==c&&p>=L&&(D(t-i)<b&&(t-=i*b),D(o-c)<b&&(o-=c*b),e=ai(t,e,o,l),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(c,e),r=0),n.point(t=o,e=l),i=c},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function ai(n,t,e,i){var r,o,l=O(n-e);return D(l)>b?Qe((O(t)*(o=H(i))*O(e)-O(i)*(r=H(t))*O(n))/(r*o*l)):(t+i)/2}function ci(n,t,e,i){var r;if(n==null)r=e*X,i.point(-L,r),i.point(0,r),i.point(L,r),i.point(L,0),i.point(L,-r),i.point(0,-r),i.point(-L,-r),i.point(-L,0),i.point(-L,r);else if(D(n[0]-t[0])>b){var o=n[0]<t[0]?L:-L;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function _i(n){var t=H(n),e=6*z,i=t>0,r=D(t)>b;function o(a,u,s,f){ii(f,n,e,s,a,u)}function l(a,u){return H(a)*H(u)>t}function c(a){var u,s,f,h,S;return{lineStart:function(){h=f=!1,S=1},point:function(d,y){var g=[d,y],w,m=l(d,y),P=i?m?0:_(d,y):m?_(d+(d<0?L:-L),y):0;if(!u&&(h=f=m)&&a.lineStart(),m!==f&&(w=p(u,g),(!w||Dn(u,w)||Dn(g,w))&&(g[2]=1)),m!==f)S=0,m?(a.lineStart(),w=p(g,u),a.point(w[0],w[1])):(w=p(u,g),a.point(w[0],w[1],2),a.lineEnd()),u=w;else if(r&&u&&i^m){var M;!(P&s)&&(M=p(g,u,!0))&&(S=0,i?(a.lineStart(),a.point(M[0][0],M[0][1]),a.point(M[1][0],M[1][1]),a.lineEnd()):(a.point(M[1][0],M[1][1]),a.lineEnd(),a.lineStart(),a.point(M[0][0],M[0][1],3)))}m&&(!u||!Dn(u,g))&&a.point(g[0],g[1]),u=g,f=m,s=P},lineEnd:function(){f&&a.lineEnd(),u=null},clean:function(){return S|(h&&f)<<1}}}function p(a,u,s){var f=vn(a),h=vn(u),S=[1,0,0],d=xn(f,h),y=Cn(d,d),g=d[0],w=y-g*g;if(!w)return!s&&a;var m=t*y/w,P=-t*g/w,M=xn(S,d),C=Tn(S,m),R=Tn(d,P);Kn(C,R);var k=M,T=Cn(C,k),$=Cn(k,k),U=T*T-$*(Cn(C,C)-1);if(!(U<0)){var F=rn(U),A=Tn(k,(-T-F)/$);if(Kn(A,C),A=ut(A),!s)return A;var v=a[0],N=u[0],I=a[1],x=u[1],W;N<v&&(W=v,v=N,N=W);var mn=N-v,K=D(mn-L)<b,on=K||mn<b;if(!K&&x<I&&(W=I,I=x,x=W),on?K?I+x>0^A[1]<(D(A[0]-v)<b?I:x):I<=A[1]&&A[1]<=x:mn>L^(v<=A[0]&&A[0]<=N)){var Q=Tn(k,(-T+F)/$);return Kn(Q,C),[A,ut(Q)]}}}function _(a,u){var s=i?n:L-n,f=0;return a<-s?f|=1:a>s&&(f|=2),u<-s?f|=4:u>s&&(f|=8),f}return Pe(l,c,o,i?[0,-n]:[-L,n-L])}function fi(n,t,e,i,r,o){var l=n[0],c=n[1],p=t[0],_=t[1],a=0,u=1,s=p-l,f=_-c,h;if(h=e-l,!(!s&&h>0)){if(h/=s,s<0){if(h<a)return;h<u&&(u=h)}else if(s>0){if(h>u)return;h>a&&(a=h)}if(h=r-l,!(!s&&h<0)){if(h/=s,s<0){if(h>u)return;h>a&&(a=h)}else if(s>0){if(h<a)return;h<u&&(u=h)}if(h=i-c,!(!f&&h>0)){if(h/=f,f<0){if(h<a)return;h<u&&(u=h)}else if(f>0){if(h>u)return;h>a&&(a=h)}if(h=o-c,!(!f&&h<0)){if(h/=f,f<0){if(h>u)return;h>a&&(a=h)}else if(f>0){if(h<a)return;h<u&&(u=h)}return a>0&&(n[0]=l+a*s,n[1]=c+a*f),u<1&&(t[0]=l+u*s,t[1]=c+u*f),!0}}}}}var Sn=1e9,bn=-Sn;function si(n,t,e,i){function r(_,a){return n<=_&&_<=e&&t<=a&&a<=i}function o(_,a,u,s){var f=0,h=0;if(_==null||(f=l(_,u))!==(h=l(a,u))||p(_,a)<0^u>0)do s.point(f===0||f===3?n:e,f>1?i:t);while((f=(f+u+4)%4)!==h);else s.point(a[0],a[1])}function l(_,a){return D(_[0]-n)<b?a>0?0:3:D(_[0]-e)<b?a>0?2:1:D(_[1]-t)<b?a>0?1:0:a>0?3:2}function c(_,a){return p(_.x,a.x)}function p(_,a){var u=l(_,1),s=l(a,1);return u!==s?u-s:u===0?a[1]-_[1]:u===1?_[0]-a[0]:u===2?_[1]-a[1]:a[0]-_[0]}return function(_){var a=_,u=Ee(),s,f,h,S,d,y,g,w,m,P,M,C={point:R,lineStart:U,lineEnd:F,polygonStart:T,polygonEnd:$};function R(v,N){r(v,N)&&a.point(v,N)}function k(){for(var v=0,N=0,I=f.length;N<I;++N)for(var x=f[N],W=1,mn=x.length,K=x[0],on,Q,Nn=K[0],_n=K[1];W<mn;++W)on=Nn,Q=_n,K=x[W],Nn=K[0],_n=K[1],Q<=i?_n>i&&(Nn-on)*(i-Q)>(_n-Q)*(n-on)&&++v:_n<=i&&(Nn-on)*(i-Q)<(_n-Q)*(n-on)&&--v;return v}function T(){a=u,s=[],f=[],M=!0}function $(){var v=k(),N=M&&v,I=(s=Se(s)).length;(N||I)&&(_.polygonStart(),N&&(_.lineStart(),o(null,null,1,_),_.lineEnd()),I&&we(s,c,v,o,_),_.polygonEnd()),a=_,s=f=h=null}function U(){C.point=A,f&&f.push(h=[]),P=!0,m=!1,g=w=NaN}function F(){s&&(A(S,d),y&&m&&u.rejoin(),s.push(u.result())),C.point=R,m&&a.lineEnd()}function A(v,N){var I=r(v,N);if(f&&h.push([v,N]),P)S=v,d=N,y=I,P=!1,I&&(a.lineStart(),a.point(v,N));else if(I&&m)a.point(v,N);else{var x=[g=Math.max(bn,Math.min(Sn,g)),w=Math.max(bn,Math.min(Sn,w))],W=[v=Math.max(bn,Math.min(Sn,v)),N=Math.max(bn,Math.min(Sn,N))];fi(x,W,n,t,e,i)?(m||(a.lineStart(),a.point(x[0],x[1])),a.point(W[0],W[1]),I||a.lineEnd(),M=!1):I&&(a.lineStart(),a.point(v,N),M=!1)}g=v,w=N,m=I}return C}}const _t=n=>n;var nt=new ln,ft=new ln,ke,$e,st,pt,tn={point:V,lineStart:V,lineEnd:V,polygonStart:function(){tn.lineStart=pi,tn.lineEnd=vi},polygonEnd:function(){tn.lineStart=tn.lineEnd=tn.point=V,nt.add(D(ft)),ft=new ln},result:function(){var n=nt/2;return nt=new ln,n}};function pi(){tn.point=hi}function hi(n,t){tn.point=Me,ke=st=n,$e=pt=t}function Me(n,t){ft.add(pt*n-st*t),st=n,pt=t}function vi(){Me(ke,$e)}const xt=tn;var dn=1/0,zn=dn,Mn=-dn,Wn=Mn,di={point:gi,lineStart:V,lineEnd:V,polygonStart:V,polygonEnd:V,result:function(){var n=[[dn,zn],[Mn,Wn]];return Mn=Wn=-(zn=dn=1/0),n}};function gi(n,t){n<dn&&(dn=n),n>Mn&&(Mn=n),t<zn&&(zn=t),t>Wn&&(Wn=t)}const Xn=di;var ht=0,vt=0,En=0,Vn=0,Bn=0,sn=0,dt=0,gt=0,wn=0,Re,Ne,Z,j,Y={point:cn,lineStart:zt,lineEnd:Wt,polygonStart:function(){Y.lineStart=Si,Y.lineEnd=Ei},polygonEnd:function(){Y.point=cn,Y.lineStart=zt,Y.lineEnd=Wt},result:function(){var n=wn?[dt/wn,gt/wn]:sn?[Vn/sn,Bn/sn]:En?[ht/En,vt/En]:[NaN,NaN];return ht=vt=En=Vn=Bn=sn=dt=gt=wn=0,n}};function cn(n,t){ht+=n,vt+=t,++En}function zt(){Y.point=yi}function yi(n,t){Y.point=mi,cn(Z=n,j=t)}function mi(n,t){var e=n-Z,i=t-j,r=rn(e*e+i*i);Vn+=r*(Z+n)/2,Bn+=r*(j+t)/2,sn+=r,cn(Z=n,j=t)}function Wt(){Y.point=cn}function Si(){Y.point=wi}function Ei(){Le(Re,Ne)}function wi(n,t){Y.point=Le,cn(Re=Z=n,Ne=j=t)}function Le(n,t){var e=n-Z,i=t-j,r=rn(e*e+i*i);Vn+=r*(Z+n)/2,Bn+=r*(j+t)/2,sn+=r,r=j*n-Z*t,dt+=r*(Z+n),gt+=r*(j+t),wn+=r*3,cn(Z=n,j=t)}const Xt=Y;function Ce(n){this._context=n}Ce.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,B);break}}},result:V};var yt=new ln,tt,Te,Ae,Pn,kn,qn={point:V,lineStart:function(){qn.point=Pi},lineEnd:function(){tt&&be(Te,Ae),qn.point=V},polygonStart:function(){tt=!0},polygonEnd:function(){tt=null},result:function(){var n=+yt;return yt=new ln,n}};function Pi(n,t){qn.point=be,Te=Pn=n,Ae=kn=t}function be(n,t){Pn-=n,kn-=t,yt.add(rn(Pn*Pn+kn*kn)),Pn=n,kn=t}const Vt=qn;let Bt,Yn,qt,Yt;class Gt{constructor(t){this._append=t==null?Oe:ki(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==qt||this._append!==Yn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,qt=i,Yn=this._append,Yt=this._,this._=r}this._+=Yt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Oe(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function ki(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Oe;if(t!==Bt){const e=10**t;Bt=t,Yn=function(r){let o=1;this._+=r[0];for(const l=r.length;o<l;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return Yn}function $i(n,t){let e=3,i=4.5,r,o;function l(c){return c&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),fn(c,r(o))),o.result()}return l.area=function(c){return fn(c,r(xt)),xt.result()},l.measure=function(c){return fn(c,r(Vt)),Vt.result()},l.bounds=function(c){return fn(c,r(Xn)),Xn.result()},l.centroid=function(c){return fn(c,r(Xt)),Xt.result()},l.projection=function(c){return arguments.length?(r=c==null?(n=null,_t):(n=c).stream,l):n},l.context=function(c){return arguments.length?(o=c==null?(t=null,new Gt(e)):new Ce(t=c),typeof i!="function"&&o.pointRadius(i),l):t},l.pointRadius=function(c){return arguments.length?(i=typeof c=="function"?c:(o.pointRadius(+c),+c),l):i},l.digits=function(c){if(!arguments.length)return e;if(c==null)e=null;else{const p=Math.floor(c);if(!(p>=0))throw new RangeError(`invalid digits: ${c}`);e=p}return t===null&&(o=new Gt(e)),l},l.projection(n).digits(e).context(t)}function $t(n){return function(t){var e=new mt;for(var i in n)e[i]=n[i];return e.stream=t,e}}function mt(){}mt.prototype={constructor:mt,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Mt(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),fn(e,n.stream(Xn)),t(Xn.result()),i!=null&&n.clipExtent(i),n}function He(n,t,e){return Mt(n,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],l=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),c=+t[0][0]+(r-l*(i[1][0]+i[0][0]))/2,p=+t[0][1]+(o-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([c,p])},e)}function Mi(n,t,e){return He(n,[[0,0],t],e)}function Ri(n,t,e){return Mt(n,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),l=(r-o*(i[1][0]+i[0][0]))/2,c=-o*i[0][1];n.scale(150*o).translate([l,c])},e)}function Ni(n,t,e){return Mt(n,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),l=-o*i[0][0],c=(r-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([l,c])},e)}var Zt=16,Li=H(30*z);function jt(n,t){return+t?Ti(n,t):Ci(n)}function Ci(n){return $t({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Ti(n,t){function e(i,r,o,l,c,p,_,a,u,s,f,h,S,d){var y=_-i,g=a-r,w=y*y+g*g;if(w>4*t&&S--){var m=l+s,P=c+f,M=p+h,C=rn(m*m+P*P+M*M),R=an(M/=C),k=D(D(M)-1)<b||D(o-u)<b?(o+u)/2:hn(P,m),T=n(k,R),$=T[0],U=T[1],F=$-i,A=U-r,v=g*F-y*A;(v*v/w>t||D((y*F+g*A)/w-.5)>.3||l*s+c*f+p*h<Li)&&(e(i,r,o,l,c,p,$,U,k,m/=C,P/=C,M,S,d),d.point($,U),e($,U,k,m,P,M,_,a,u,s,f,h,S,d))}}return function(i){var r,o,l,c,p,_,a,u,s,f,h,S,d={point:y,lineStart:g,lineEnd:m,polygonStart:function(){i.polygonStart(),d.lineStart=P},polygonEnd:function(){i.polygonEnd(),d.lineStart=g}};function y(R,k){R=n(R,k),i.point(R[0],R[1])}function g(){u=NaN,d.point=w,i.lineStart()}function w(R,k){var T=vn([R,k]),$=n(R,k);e(u,s,a,f,h,S,u=$[0],s=$[1],a=R,f=T[0],h=T[1],S=T[2],Zt,i),i.point(u,s)}function m(){d.point=y,i.lineEnd()}function P(){g(),d.point=M,d.lineEnd=C}function M(R,k){w(r=R,k),o=u,l=s,c=f,p=h,_=S,d.point=w}function C(){e(u,s,a,f,h,S,o,l,r,c,p,_,Zt,i),d.lineEnd=m,m()}return d}}var Ai=$t({point:function(n,t){this.stream.point(n*z,t*z)}});function bi(n){return $t({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function Oi(n,t,e,i,r){function o(l,c){return l*=i,c*=r,[t+n*l,e-n*c]}return o.invert=function(l,c){return[(l-t)/n*i,(e-c)/n*r]},o}function Jt(n,t,e,i,r,o){if(!o)return Oi(n,t,e,i,r);var l=H(o),c=O(o),p=l*n,_=c*n,a=l/n,u=c/n,s=(c*e-l*t)/n,f=(c*t+l*e)/n;function h(S,d){return S*=i,d*=r,[p*S-_*d+t,e-_*S-p*d]}return h.invert=function(S,d){return[i*(a*S-u*d+s),r*(f-u*S-a*d)]},h}function St(n){return Hi(function(){return n})()}function Hi(n){var t,e=150,i=480,r=250,o=0,l=0,c=0,p=0,_=0,a,u=0,s=1,f=1,h=null,S=Ut,d=null,y,g,w,m=_t,P=.5,M,C,R,k,T;function $(v){return R(v[0]*z,v[1]*z)}function U(v){return v=R.invert(v[0],v[1]),v&&[v[0]*nn,v[1]*nn]}$.stream=function(v){return k&&T===v?k:k=Ai(bi(a)(S(M(m(T=v)))))},$.preclip=function(v){return arguments.length?(S=v,h=void 0,A()):S},$.postclip=function(v){return arguments.length?(m=v,d=y=g=w=null,A()):m},$.clipAngle=function(v){return arguments.length?(S=+v?_i(h=v*z):(h=null,Ut),A()):h*nn},$.clipExtent=function(v){return arguments.length?(m=v==null?(d=y=g=w=null,_t):si(d=+v[0][0],y=+v[0][1],g=+v[1][0],w=+v[1][1]),A()):d==null?null:[[d,y],[g,w]]},$.scale=function(v){return arguments.length?(e=+v,F()):e},$.translate=function(v){return arguments.length?(i=+v[0],r=+v[1],F()):[i,r]},$.center=function(v){return arguments.length?(o=v[0]%360*z,l=v[1]%360*z,F()):[o*nn,l*nn]},$.rotate=function(v){return arguments.length?(c=v[0]%360*z,p=v[1]%360*z,_=v.length>2?v[2]%360*z:0,F()):[c*nn,p*nn,_*nn]},$.angle=function(v){return arguments.length?(u=v%360*z,F()):u*nn},$.reflectX=function(v){return arguments.length?(s=v?-1:1,F()):s<0},$.reflectY=function(v){return arguments.length?(f=v?-1:1,F()):f<0},$.precision=function(v){return arguments.length?(M=jt(C,P=v*v),A()):rn(P)},$.fitExtent=function(v,N){return He($,v,N)},$.fitSize=function(v,N){return Mi($,v,N)},$.fitWidth=function(v,N){return Ri($,v,N)},$.fitHeight=function(v,N){return Ni($,v,N)};function F(){var v=Jt(e,0,0,s,f,u).apply(null,t(o,l)),N=Jt(e,i-v[0],r-v[1],s,f,u);return a=ei(c,p,_),C=at(t,N),R=at(a,C),M=jt(C,P),A()}function A(){return k=T=null,$}return function(){return t=n.apply(this,arguments),$.invert=t.invert&&U,F()}}function Di(n){return function(t,e){var i=rn(t*t+e*e),r=n(i),o=O(r),l=H(r);return[hn(t*o,i*l),an(i&&e*o/i)]}}function De(n,t){return[H(t)*O(n),O(t)]}De.invert=Di(an);function Fi(){return St(De).scale(249.5).clipAngle(90+b)}function $n(n,t,e){this.k=n,this.x=t,this.y=e}$n.prototype={constructor:$n,scale:function(n){return n===1?this:new $n(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new $n(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$n.prototype;function Ii(n){return n}function Ui(n){if(n==null)return Ii;var t,e,i=n.scale[0],r=n.scale[1],o=n.translate[0],l=n.translate[1];return function(c,p){p||(t=e=0);var _=2,a=c.length,u=new Array(a);for(u[0]=(t+=c[0])*i+o,u[1]=(e+=c[1])*r+l;_<a;)u[_]=c[_],++_;return u}}function xi(n,t){for(var e,i=n.length,r=i-t;r<--i;)e=n[r],n[r++]=n[i],n[i]=e}function zi(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(e){return Kt(n,e)})}:Kt(n,t)}function Kt(n,t){var e=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,o=Wi(n,t);return e==null&&i==null?{type:"Feature",properties:r,geometry:o}:i==null?{type:"Feature",id:e,properties:r,geometry:o}:{type:"Feature",id:e,bbox:i,properties:r,geometry:o}}function Wi(n,t){var e=Ui(n.transform),i=n.arcs;function r(a,u){u.length&&u.pop();for(var s=i[a<0?~a:a],f=0,h=s.length;f<h;++f)u.push(e(s[f],f));a<0&&xi(u,h)}function o(a){return e(a)}function l(a){for(var u=[],s=0,f=a.length;s<f;++s)r(a[s],u);return u.length<2&&u.push(u[0]),u}function c(a){for(var u=l(a);u.length<4;)u.push(u[0]);return u}function p(a){return a.map(c)}function _(a){var u=a.type,s;switch(u){case"GeometryCollection":return{type:u,geometries:a.geometries.map(_)};case"Point":s=o(a.coordinates);break;case"MultiPoint":s=a.coordinates.map(o);break;case"LineString":s=l(a.arcs);break;case"MultiLineString":s=a.arcs.map(l);break;case"Polygon":s=p(a.arcs);break;case"MultiPolygon":s=a.arcs.map(p);break;default:return null}return{type:u,coordinates:s}}return _(t)}var jn,E,Fe,un,Qt,Ie,Et,Rn={},Ue=[],Xi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Jn=Array.isArray;function en(n,t){for(var e in t)n[e]=t[e];return n}function xe(n){var t=n.parentNode;t&&t.removeChild(n)}function wt(n,t,e){var i,r,o,l={};for(o in t)o=="key"?i=t[o]:o=="ref"?r=t[o]:l[o]=t[o];if(arguments.length>2&&(l.children=arguments.length>3?jn.call(arguments,2):e),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)l[o]===void 0&&(l[o]=n.defaultProps[o]);return Fn(n,l,i,r,null)}function Fn(n,t,e,i,r){var o={type:n,props:t,key:e,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Fe,__i:-1,__u:0};return r==null&&E.vnode!=null&&E.vnode(o),o}function gn(n){return n.children}function J(n,t){this.props=n,this.context=t}function yn(n,t){if(t==null)return n.__?yn(n.__,n.__i+1):null;for(var e;t<n.__k.length;t++)if((e=n.__k[t])!=null&&e.__e!=null)return e.__e;return typeof n.type=="function"?yn(n):null}function ze(n){var t,e;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,t=0;t<n.__k.length;t++)if((e=n.__k[t])!=null&&e.__e!=null){n.__e=n.__c.base=e.__e;break}return ze(n)}}function ne(n){(!n.__d&&(n.__d=!0)&&un.push(n)&&!Gn.__r++||Qt!==E.debounceRendering)&&((Qt=E.debounceRendering)||Ie)(Gn)}function Gn(){var n,t,e,i,r,o,l,c,p;for(un.sort(Et);n=un.shift();)n.__d&&(t=un.length,i=void 0,o=(r=(e=n).__v).__e,c=[],p=[],(l=e.__P)&&((i=en({},r)).__v=r.__v+1,Rt(l,i,r,e.__n,l.ownerSVGElement!==void 0,32&r.__u?[o]:null,c,o??yn(r),!!(32&r.__u),p),i.__.__k[i.__i]=i,Ve(c,i,p),i.__e!=o&&ze(i)),un.length>t&&un.sort(Et));Gn.__r=0}function We(n,t,e,i,r,o,l,c,p,_,a){var u,s,f,h,S,d=i&&i.__k||Ue,y=t.length;for(e.__d=p,Vi(e,t,d),p=e.__d,u=0;u<y;u++)(f=e.__k[u])!=null&&typeof f!="boolean"&&typeof f!="function"&&(s=f.__i===-1?Rn:d[f.__i]||Rn,f.__i=u,Rt(n,f,s,r,o,l,c,p,_,a),h=f.__e,f.ref&&s.ref!=f.ref&&(s.ref&&Nt(s.ref,null,f),a.push(f.ref,f.__c||h,f)),S==null&&h!=null&&(S=h),65536&f.__u||s.__k===f.__k?p=Xe(f,p,n):typeof f.type=="function"&&f.__d!==void 0?p=f.__d:h&&(p=h.nextSibling),f.__d=void 0,f.__u&=-196609);e.__d=p,e.__e=S}function Vi(n,t,e){var i,r,o,l,c,p=t.length,_=e.length,a=_,u=0;for(n.__k=[],i=0;i<p;i++)(r=n.__k[i]=(r=t[i])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Fn(null,r,null,null,r):Jn(r)?Fn(gn,{children:r},null,null,null):r.__b>0?Fn(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=n,r.__b=n.__b+1,c=Bi(r,e,l=i+u,a),r.__i=c,o=null,c!==-1&&(a--,(o=e[c])&&(o.__u|=131072)),o==null||o.__v===null?(c==-1&&u--,typeof r.type!="function"&&(r.__u|=65536)):c!==l&&(c===l+1?u++:c>l?a>p-l?u+=c-l:u--:u=c<l&&c==l-1?c-l:0,c!==i+u&&(r.__u|=65536))):(o=e[i])&&o.key==null&&o.__e&&(o.__e==n.__d&&(n.__d=yn(o)),Pt(o,o,!1),e[i]=null,a--);if(a)for(i=0;i<_;i++)(o=e[i])!=null&&!(131072&o.__u)&&(o.__e==n.__d&&(n.__d=yn(o)),Pt(o,o))}function Xe(n,t,e){var i,r;if(typeof n.type=="function"){for(i=n.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=n,t=Xe(i[r],t,e));return t}return n.__e!=t&&(e.insertBefore(n.__e,t||null),t=n.__e),t&&t.nextSibling}function Zn(n,t){return t=t||[],n==null||typeof n=="boolean"||(Jn(n)?n.some(function(e){Zn(e,t)}):t.push(n)),t}function Bi(n,t,e,i){var r=n.key,o=n.type,l=e-1,c=e+1,p=t[e];if(p===null||p&&r==p.key&&o===p.type)return e;if(i>(p!=null&&!(131072&p.__u)?1:0))for(;l>=0||c<t.length;){if(l>=0){if((p=t[l])&&!(131072&p.__u)&&r==p.key&&o===p.type)return l;l--}if(c<t.length){if((p=t[c])&&!(131072&p.__u)&&r==p.key&&o===p.type)return c;c++}}return-1}function te(n,t,e){t[0]==="-"?n.setProperty(t,e??""):n[t]=e==null?"":typeof e!="number"||Xi.test(t)?e:e+"px"}function On(n,t,e,i,r){var o;n:if(t==="style")if(typeof e=="string")n.style.cssText=e;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(t in i)e&&t in e||te(n.style,t,"");if(e)for(t in e)i&&e[t]===i[t]||te(n.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in n?t.toLowerCase().slice(2):t.slice(2),n.l||(n.l={}),n.l[t+o]=e,e?i?e.u=i.u:(e.u=Date.now(),n.addEventListener(t,o?ie:ee,o)):n.removeEventListener(t,o?ie:ee,o);else{if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in n)try{n[t]=e??"";break n}catch{}typeof e=="function"||(e==null||e===!1&&t[4]!=="-"?n.removeAttribute(t):n.setAttribute(t,e))}}function ee(n){var t=this.l[n.type+!1];if(n.t){if(n.t<=t.u)return}else n.t=Date.now();return t(E.event?E.event(n):n)}function ie(n){return this.l[n.type+!0](E.event?E.event(n):n)}function Rt(n,t,e,i,r,o,l,c,p,_){var a,u,s,f,h,S,d,y,g,w,m,P,M,C,R,k=t.type;if(t.constructor!==void 0)return null;128&e.__u&&(p=!!(32&e.__u),o=[c=t.__e=e.__e]),(a=E.__b)&&a(t);n:if(typeof k=="function")try{if(y=t.props,g=(a=k.contextType)&&i[a.__c],w=a?g?g.props.value:a.__:i,e.__c?d=(u=t.__c=e.__c).__=u.__E:("prototype"in k&&k.prototype.render?t.__c=u=new k(y,w):(t.__c=u=new J(y,w),u.constructor=k,u.render=Yi),g&&g.sub(u),u.props=y,u.state||(u.state={}),u.context=w,u.__n=i,s=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),k.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=en({},u.__s)),en(u.__s,k.getDerivedStateFromProps(y,u.__s))),f=u.props,h=u.state,u.__v=t,s)k.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(k.getDerivedStateFromProps==null&&y!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,w),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,w)===!1||t.__v===e.__v)){for(t.__v!==e.__v&&(u.props=y,u.state=u.__s,u.__d=!1),t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(T){T&&(T.__=t)}),m=0;m<u._sb.length;m++)u.__h.push(u._sb[m]);u._sb=[],u.__h.length&&l.push(u);break n}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,w),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,h,S)})}if(u.context=w,u.props=y,u.__P=n,u.__e=!1,P=E.__r,M=0,"prototype"in k&&k.prototype.render){for(u.state=u.__s,u.__d=!1,P&&P(t),a=u.render(u.props,u.state,u.context),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[]}else do u.__d=!1,P&&P(t),a=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++M<25);u.state=u.__s,u.getChildContext!=null&&(i=en(en({},i),u.getChildContext())),s||u.getSnapshotBeforeUpdate==null||(S=u.getSnapshotBeforeUpdate(f,h)),We(n,Jn(R=a!=null&&a.type===gn&&a.key==null?a.props.children:a)?R:[R],t,e,i,r,o,l,c,p,_),u.base=t.__e,t.__u&=-161,u.__h.length&&l.push(u),d&&(u.__E=u.__=null)}catch(T){t.__v=null,p||o!=null?(t.__e=c,t.__u|=p?160:32,o[o.indexOf(c)]=null):(t.__e=e.__e,t.__k=e.__k),E.__e(T,t,e)}else o==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=qi(e.__e,t,e,i,r,o,l,p,_);(a=E.diffed)&&a(t)}function Ve(n,t,e){t.__d=void 0;for(var i=0;i<e.length;i++)Nt(e[i],e[++i],e[++i]);E.__c&&E.__c(t,n),n.some(function(r){try{n=r.__h,r.__h=[],n.some(function(o){o.call(r)})}catch(o){E.__e(o,r.__v)}})}function qi(n,t,e,i,r,o,l,c,p){var _,a,u,s,f,h,S,d=e.props,y=t.props,g=t.type;if(g==="svg"&&(r=!0),o!=null){for(_=0;_<o.length;_++)if((f=o[_])&&"setAttribute"in f==!!g&&(g?f.localName===g:f.nodeType===3)){n=f,o[_]=null;break}}if(n==null){if(g===null)return document.createTextNode(y);n=r?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,y.is&&y),o=null,c=!1}if(g===null)d===y||c&&n.data===y||(n.data=y);else{if(o=o&&jn.call(n.childNodes),d=e.props||Rn,!c&&o!=null)for(d={},_=0;_<n.attributes.length;_++)d[(f=n.attributes[_]).name]=f.value;for(_ in d)f=d[_],_=="children"||(_=="dangerouslySetInnerHTML"?u=f:_==="key"||_ in y||On(n,_,null,f,r));for(_ in y)f=y[_],_=="children"?s=f:_=="dangerouslySetInnerHTML"?a=f:_=="value"?h=f:_=="checked"?S=f:_==="key"||c&&typeof f!="function"||d[_]===f||On(n,_,f,d[_],r);if(a)c||u&&(a.__html===u.__html||a.__html===n.innerHTML)||(n.innerHTML=a.__html),t.__k=[];else if(u&&(n.innerHTML=""),We(n,Jn(s)?s:[s],t,e,i,r&&g!=="foreignObject",o,l,o?o[0]:e.__k&&yn(e,0),c,p),o!=null)for(_=o.length;_--;)o[_]!=null&&xe(o[_]);c||(_="value",h!==void 0&&(h!==n[_]||g==="progress"&&!h||g==="option"&&h!==d[_])&&On(n,_,h,d[_],!1),_="checked",S!==void 0&&S!==n[_]&&On(n,_,S,d[_],!1))}return n}function Nt(n,t,e){try{typeof n=="function"?n(t):n.current=t}catch(i){E.__e(i,e)}}function Pt(n,t,e){var i,r;if(E.unmount&&E.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Nt(i,null,t)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){E.__e(o,t)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&Pt(i[r],t,e||typeof n.type!="function");e||n.__e==null||xe(n.__e),n.__=n.__e=n.__d=void 0}function Yi(n,t,e){return this.constructor(n,e)}function Gi(n,t,e){var i,r,o,l;E.__&&E.__(n,t),r=(i=typeof e=="function")?null:e&&e.__k||t.__k,o=[],l=[],Rt(t,n=(!i&&e||t).__k=wt(gn,null,[n]),r||Rn,Rn,t.ownerSVGElement!==void 0,!i&&e?[e]:r?null:t.firstChild?jn.call(t.childNodes):null,o,!i&&e?e:r?r.__e:t.firstChild,i,l),Ve(o,n,l)}jn=Ue.slice,E={__e:function(n,t,e,i){for(var r,o,l;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),l=r.__d),l)return r.__E=r}catch(c){n=c}throw n}},Fe=0,J.prototype.setState=function(n,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=en({},this.state),typeof n=="function"&&(n=n(en({},e),this.props)),n&&en(e,n),n!=null&&this.__v&&(t&&this._sb.push(t),ne(this))},J.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ne(this))},J.prototype.render=gn,un=[],Ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Et=function(n,t){return n.__v.__b-t.__v.__b},Gn.__r=0;var G,et,re,Be=[],it=[],oe=E.__b,ue=E.__r,le=E.diffed,ae=E.__c,ce=E.unmount;function Zi(){for(var n;n=Be.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(In),n.__H.__h.forEach(kt),n.__H.__h=[]}catch(t){n.__H.__h=[],E.__e(t,n.__v)}}E.__b=function(n){G=null,oe&&oe(n)},E.__r=function(n){ue&&ue(n);var t=(G=n.__c).__H;t&&(et===G?(t.__h=[],G.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=it,e.__N=e.i=void 0})):(t.__h.forEach(In),t.__h.forEach(kt),t.__h=[])),et=G},E.diffed=function(n){le&&le(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(Be.push(t)!==1&&re===E.requestAnimationFrame||((re=E.requestAnimationFrame)||ji)(Zi)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==it&&(e.__=e.__V),e.i=void 0,e.__V=it})),et=G=null},E.__c=function(n,t){t.some(function(e){try{e.__h.forEach(In),e.__h=e.__h.filter(function(i){return!i.__||kt(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],E.__e(i,e.__v)}}),ae&&ae(n,t)},E.unmount=function(n){ce&&ce(n);var t,e=n.__c;e&&e.__H&&(e.__H.__.forEach(function(i){try{In(i)}catch(r){t=r}}),e.__H=void 0,t&&E.__e(t,e.__v))};var _e=typeof requestAnimationFrame=="function";function ji(n){var t,e=function(){clearTimeout(i),_e&&cancelAnimationFrame(t),setTimeout(n)},i=setTimeout(e,100);_e&&(t=requestAnimationFrame(e))}function In(n){var t=G,e=n.__c;typeof e=="function"&&(n.__c=void 0,e()),G=t}function kt(n){var t=G;n.__c=n.__(),G=t}var Ji=0;function q(n,t,e,i,r,o){var l,c,p={};for(c in t)c=="ref"?l=t[c]:p[c]=t[c];var _={type:n,props:p,key:e,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ji,__i:-1,__u:0,__source:r,__self:o};if(typeof n=="function"&&(l=n.defaultProps))for(c in l)p[c]===void 0&&(p[c]=l[c]);return E.vnode&&E.vnode(_),_}class pn extends J{constructor(e){super();Ln(this,"handleMouseDown",e=>{console.log("handleMouseDown:"+e.pageX)});Ln(this,"handleMouseUp",e=>{console.log("handleMouseUp:"+e.pageX)});Ln(this,"handleMouseMove",e=>{this.setState({rotate:[e.pageX,0]}),console.log("handleMouseMove:"+e.pageX)});this.state={time:Date.now(),data:[],isLoading:!0,rotate:[0,0],projection:null,features:null},console.log("ChoroplethMap instantiated with "+e)}componentWillMount(){fetch("data/countries-50m.json").then(e=>e.json()).then(e=>{this.setState({data:e,projection:Fi(),isLoading:!1})}).catch(e=>{console.log("error: fetch failed"+e)}),setInterval(this.update(),100)}static interpolateProjection(e,i){const{scale:r,translate:o}=pn.fit(e),{scale:l,translate:c}=pn.fit(i);return p=>St((_,a)=>pn.lerp2(e(_,a),i(_,a),p)).scale(pn.lerp1(r,l,p)).translate(lerp2(o,c,p)).precision(.1)}animate(e){setTimeout(this.update(e),100)}update(e){if(this.state.isLoading==!0)return;const i=Date.now(),r=.001,o=-.001,l=[r*i,o*i];console.log("setting rotate:"+l),this.setState({rotate:l})}static lerp1(e,i,r){return(1-r)*e+r*i}static lerp2([e,i],[r,o],l){return[(1-l)*e+l*r,(1-l)*i+l*o]}static fit(e){const o={type:"Sphere"},l=St(e).fitExtent([[.5,.5],[600-.5,800-.5]],o);return{scale:l.scale(),translate:l.translate()}}render(e){const i=window.screen.width;var r=null;if(this.state.isLoading==!1){const o=zi(this.state.data,this.state.data.objects.countries),l=i,c={type:"Sphere"},p=$i().projection(this.state.projection.fitExtent([[.7,.7],[i-.7,l-.7]],c).rotate(this.state.rotate).scale(i/5));r=o.features.map(_=>q("path",{d:p(_),fill:"#d3e0e8",tooltip:"country"}))}return q("div",{children:[e.isLoading&&q("img",{src:"../ontheroad_icon.png",children:"On the Road logo"}),!e.isLoading&&q("div",{children:q("svg",{width:i,height:i,onMouseMove:this.handleMouseMove,children:q("g",{children:r})})})]})}}function Ki(n,t){for(var e in t)n[e]=t[e];return n}function fe(n,t){for(var e in n)if(e!=="__source"&&!(e in t))return!0;for(var i in t)if(i!=="__source"&&n[i]!==t[i])return!0;return!1}function se(n){this.props=n}(se.prototype=new J).isPureReactComponent=!0,se.prototype.shouldComponentUpdate=function(n,t){return fe(this.props,n)||fe(this.state,t)};var pe=E.__b;E.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),pe&&pe(n)};var Qi=E.__e;E.__e=function(n,t,e,i){if(n.then){for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return t.__e==null&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t)}Qi(n,t,e,i)};var he=E.unmount;function qe(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=Ki({},n)).__c!=null&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return qe(i,t,e)})),n}function Ye(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Ye(i,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function rt(){this.__u=0,this.t=null,this.__b=null}function Ge(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function Hn(){this.u=null,this.o=null}E.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),he&&he(n)},(rt.prototype=new J).__c=function(n,t){var e=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(e);var r=Ge(i.__v),o=!1,l=function(){o||(o=!0,e.__R=null,r?r(c):c())};e.__R=l;var c=function(){if(!--i.__u){if(i.state.__a){var p=i.state.__a;i.__v.__k[0]=Ye(p,p.__c.__P,p.__c.__O)}var _;for(i.setState({__a:i.__b=null});_=i.t.pop();)_.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},rt.prototype.componentWillUnmount=function(){this.t=[]},rt.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=qe(this.__b,e,i.__O=i.__P)}this.__b=null}var r=t.__a&&wt(gn,null,n.fallback);return r&&(r.__u&=-33),[wt(gn,null,t.__a?null:n.children),r]};var ve=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};(Hn.prototype=new J).__a=function(n){var t=this,e=Ge(t.__v),i=t.o.get(n);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),ve(t,n,i)):r()};e?e(o):o()}},Hn.prototype.render=function(n){this.u=null,this.o=new Map;var t=Zn(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},Hn.prototype.componentDidUpdate=Hn.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){ve(n,e,t)})};var nr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,tr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,er=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ir=/[A-Z0-9]/g,rr=typeof document<"u",or=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};J.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(J.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var de=E.event;function ur(){}function lr(){return this.cancelBubble}function ar(){return this.defaultPrevented}E.event=function(n){return de&&(n=de(n)),n.persist=ur,n.isPropagationStopped=lr,n.isDefaultPrevented=ar,n.nativeEvent=n};var cr={enumerable:!1,configurable:!0,get:function(){return this.class}},ge=E.vnode;E.vnode=function(n){typeof n.type=="string"&&function(t){var e=t.props,i=t.type,r={};for(var o in e){var l=e[o];if(!(o==="value"&&"defaultValue"in e&&l==null||rr&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in e&&e.value==null?o="value":o==="download"&&l===!0?l="":c==="ondoubleclick"?o="ondblclick":c!=="onchange"||i!=="input"&&i!=="textarea"||or(e.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":er.test(o)?o=c:i.indexOf("-")===-1&&tr.test(o)?o=o.replace(ir,"-$&").toLowerCase():l===null&&(l=void 0):c=o="oninput",c==="oninput"&&r[o=c]&&(o="oninputCapture"),r[o]=l}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Zn(e.children).forEach(function(p){p.props.selected=r.value.indexOf(p.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=Zn(e.children).forEach(function(p){p.props.selected=r.multiple?r.defaultValue.indexOf(p.props.value)!=-1:r.defaultValue==p.props.value})),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",cr)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(n),n.$$typeof=nr,ge&&ge(n)};var ye=E.__r;E.__r=function(n){ye&&ye(n),n.__c};var me=E.diffed;E.diffed=function(n){me&&me(n);var t=n.props,e=n.__e;e!=null&&n.type==="textarea"&&"value"in t&&t.value!==e.value&&(e.value=t.value==null?"":t.value)};function Lt(n,t,e,i,r){var o=new Error(e,i,r);return o.name="UseFetchError",o.status=n,o.statusText=t,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,Lt),o}Lt.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Lt,Error);const _r=()=>q("div",{children:[q(pn,{}),q("div",{class:"resource",children:q("div",{})})]});Gi(q(_r,{}),document.getElementById("app"));
